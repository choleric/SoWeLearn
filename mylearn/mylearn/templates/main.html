{% load static %}
<!DOCTYPE html>
<html>
	<head>
		<title>SoWeLearn</title>
		<meta charset="utf-8">
		<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
		<script type="text/javascript" src="{% static 'js/jquery.mousewheel.js'%}"></script>
		<script src="{% static 'js/main.js'%}"></script>
		<link rel="stylesheet" type="text/css" href="{% static 'css/main.css'%}">

        <script type="text/javascript">
            function AJAXOptions(data, success, type, url, dataType, cache, error)
            {
                this.type = type || "get";
                this.url = url || "../profile2/";
                this.dataType = dataType || "json";
                this.cache = cache || false;
                this.success = success || function(){};
                this.error = error || function(){alert("操作失败!求提交失");};
            }
            AJAXOptions.prototype.setSuccess = function(sucCallback)
            {
                this.success = function(data, textStatus){
                    //simetimes, data is null but the request status is OK! maybe it's a bug! need to repair!!!
                    if(!data)
                        return;
                    else{
                        sucCallback(data);
                    }
                };
            }
            var ajaxOptions = new AJAXOptions();
            ajaxOptions.setSuccess(function(data){
                var uec = data.personalProfile.userEducationCredential;
                var uecCode = "";
                for(var i = 0, elength = uec.length; i < elength; i++){
                    uecCode += "<li>";
                    uecCode += uec[i].educationInfo;
                    if(uec[i].IsVerified){
                        uecCode += "[Verified]</li>";
                    }else{
                        uecCode += "[Unverified]</li>";
                    }
                }
                uec = data.personalProfile.userWorkCredential;
                for(var i = 0, elength = uec.length; i < elength; i++){
                    uecCode += "<li>";
                    uecCode += uec[i].workInfo;
                    if(uec[i].IsVerified){
                        uecCode += "[Verified]</li>";
                    }else{
                        uecCode += "[Unverified]</li>";
                    }
                }
                $("#aboutUserQuote").val(data.personalProfile.aboutUserQuote);
                $("#userEducationCredential").html(uecCode);
                $("#location").html(data.userLocation);
                $("#tutorTuitionTopics").html(data.tutorTuitionTopics);
            });
            $.ajax(ajaxOptions);
        </script>
	</head>
	<body>
		<div class="left">
            <div class="userImage"></div>
            <div class="userProfile">
                <p>About yourself:</p>
                <input type="text" id="aboutUserQuote" value=""/>
                <p>Education and Work[edit]</p>
                <ul id="userEducationCredential">

                </ul>
                <p>Basic Information[edit]</p>
                <p id="location"></p>
                <p id="tutorTuitionTopics"></p>
            </div>
		</div>
		<div class="main">
			<div class="mockUpImg"><img src="../static/images/12345.png"/></div>
			<div class="leftUp"></div>
			<div class="rightUp"></div>
			<div class="leftBottom"></div>
			<div class="rightBottom"></div>
			<div class="bottomSearch">
				<div class="search">
					<input type="text" class="searchInput" placeholder="search a topic, tutor, subject"/>
					<a href="#" class="searchBtn searchSwing"></a>
				</div>
			</div>
		</div>
		<div id="right" class="right">
			<div class="content">
				<div class="requestInbox"></div>
				<div class="appointmentSchedule"></div>
			</div>
		</div>
	</body>
</html>